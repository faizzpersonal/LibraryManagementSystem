<app-admin-navbar></app-admin-navbar>

<div class="container mt-5 d-flex justify-content-center">
  <div class="card shadow p-4 edit-card" style="max-width: 600px; width: 100%;">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="text-primary mb-0">Add New User</h2>
      <button class="btn btn-outline-secondary btn-sm" [routerLink]="['/admin/users']">
        <i class="bi bi-arrow-left-circle me-1"></i> Back to Users List
      </button>
    </div>

    <form #userForm="ngForm" (ngSubmit)="addUser()" class="row g-3">
      <div class="col-12">
        <input class="form-control" placeholder="Name" [(ngModel)]="newUser.name" 
            name="name" #name="ngModel" required minlength="3">
        <div *ngIf="name.invalid && name.touched" class="text-danger small mt-1">
          <div *ngIf="name.errors?.['required']">Name is required.</div>
          <div *ngIf="name.errors?.['minlength']">Name must be at least 3 characters long.</div>
        </div>
      </div>

      <div class="col-12">
        <input class="form-control" placeholder="Email" [(ngModel)]="newUser.email" 
            name="email" #email="ngModel" required email>
        <div *ngIf="email.invalid && email.touched" class="text-danger small mt-1">
          <div *ngIf="email.errors?.['required']">Email is required.</div>
          <div *ngIf="email.errors?.['email']">Enter a valid email address.</div>
        </div>
      </div>

      <div class="col-12">
        <input class="form-control" placeholder="Phone" [(ngModel)]="newUser.phone" 
               name="phone" #phone="ngModel" required pattern="^[0-9]{10}$">
        <div *ngIf="phone.invalid && phone.touched" class="text-danger small mt-1">
          <div *ngIf="phone.errors?.['required']">Phone number is required.</div>
          <div *ngIf="phone.errors?.['pattern']">Phone must be a 10-digit number.</div>
        </div>
      </div>


      <div class="col-12">
        <select class="form-select" [(ngModel)]="newUser.role" name="role" required>
          <option value="Student">Student</option>
          <option value="Teacher">Teacher</option>
        </select>
      </div>


      <div class="col-12 text-end mt-3">
        <button class="btn btn-outline-primary" type="submit" [disabled]="userForm.invalid">
          <i class="bi bi-plus-circle me-1"></i> Add User
        </button>
      </div>
    </form>
  </div>
</div>

<style>
  .edit-card {
    border-radius: 10px;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .edit-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
  }

  input.form-control, select.form-select {
    border-radius: 5px;
  }

  .text-danger {
    font-size: 0.85rem;
  }
</style>
